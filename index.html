<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>qote.fr</title>
		<link id="favicon" rel="shortcut icon" href="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>
		<link rel="stylesheet" type="text/css" href="style/style.css" />
		<script>
			window.onload = function() {
				Math.easeInOutQuad = function (t, b, c, d) {
					t /= d/2;
					if (t < 1) return c/2*t*t + b;
					t--;
					return -c/2 * (t*(t-2) - 1) + b;
				};
				function getPosition(element){
					var top = 0, left = 0;
					while (element) {
						left += element.offsetLeft;
						top += element.offsetTop;
						element = element.offsetParent;
					}
					return {'left':left, 'top':top};
				}
				function scrollTo(element, to, duration) {
					var start = element.scrollTop,
					change = to - start,
					currentTime = 0,
					increment = 10; //20
					var animateScroll = function(){
						currentTime += increment;
						var val = Math.easeInOutQuad(currentTime, start, change, duration);
						element.scrollTop = val; 
						if(currentTime < duration) {
							setTimeout(animateScroll, increment);
						}
					};
					animateScroll();
				}
				function arrow(e) {
					var key = e.keyCode;
					if(key == 38 || key == 40) {
						e.preventDefault(); 
					}

					var p = 0;
					for(var i = 0, l = indexArray.length; i < l; i++) {
						if(indexArray[i].className == 'active') {
							p = i;
						}
					}

					if(key == 38 && p > 0) { // up key
						p--;
						setClass(p);
						var position = getPosition(pageArray[p]);
						scrollTo(document.documentElement, position.top, 650);
					} else if(key == 40 && p < (indexArray.length-1)) { // down key
						p++;
						setClass(p);
						var position = getPosition(pageArray[p]);
						scrollTo(document.documentElement, position.top, 650);
					}
				}

				var lastWheel = 0;
				function wheel(e) {
					e.preventDefault();
					if((Date.now() - lastWheel) > 650) {
						var p = 0;
						for(var i = 0, l = indexArray.length; i < l; i++) {
							if(indexArray[i].className == 'active') {
								p = i;
							}
						}

						//console.log(e.wheelDelta || -e.detail);
						var delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));
						//var delta = (e.wheelDelta || -e.detail);
						if(delta == -1 && p < (indexArray.length-1)) { //delta == -1
							p++;
							setClass(p);
							var position = getPosition(pageArray[p]);
							scrollTo(document.documentElement, position.top, 650);
						} else if(delta == 1 && p > 0) { //delta == 1
							p--;
							setClass(p);
							var position = getPosition(pageArray[p]);
							scrollTo(document.documentElement, position.top, 650);
						}
						lastWheel = Date.now();
					}
				}

				function navigate(e) {
					e.preventDefault();
					//var h = Array.prototype.indexOf.call(this.parentNode.parentNode.children, this);
					var h = this.getAttribute('data-uid');
					setClass(h);
					var position = getPosition(pageArray[h]);
					scrollTo(document.documentElement, position.top, 650);
				}
				function setClass(n) {
					for(var i = 0, l = indexArray.length; i < l; i++) {
						if(i == n) {
							indexArray[i].className = 'active';
						} else {
							indexArray[i].className = '';
						}
					}
				}
				var index = document.getElementById('index');
				var pageArray = document.getElementsByClassName('page');
				var indexArray = index.getElementsByTagName('a');
				//scrollTo(document.documentElement, 0, 650);


				document.addEventListener('keydown', arrow, false);
				document.addEventListener("mousewheel", wheel, false);
				document.addEventListener('DOMMouseScroll', wheel, false);
				

				for(var i = 0, l = indexArray.length; i < l; i++) {
					indexArray[i].addEventListener('click', navigate, false);
					indexArray[i].setAttribute('data-uid', i);
				}
			};
		</script>
		
	</head>
	<body>
		<div id="about" class="page">
			<div class="container">
				<div><h1>QOTE</h1></div>
				<h2>Minimalist. Efficient. Harmonious. Timeless.</h2>
			</div>
		</div>
		<div id="work" class="page">
			<div id="work-list">
				<ul>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
					<li><a href="#"></a></li>
				</ul>
			</div>
			<div id="work-item"></div>
		</div>
		<div id="references" class="page"></div>
		<div id="products" class="page" style="background-color: yellow;"></div>
		<div id="contact" class="page"></div>

		<div id="index">
			<li><a href="#about" class="active"><span>About</span></a></li>
			<li><a href="#work"><span>Work</span></a></li>
			<li><a href="#references"><span>References</span></a></li>
			<li><a href="#products"><span>Products</span></a></li>
			<li><a href="#contact"><span>Contact</span></a></li>
		</div>
	</body>
</html>